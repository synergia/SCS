{"version":3,"sources":["webpack:///./js/app.js","webpack:///./js/pin.js","webpack:///./js/dutycycle.js","webpack:///./styles/main.css","webpack:///./js/keysControl.js","webpack:///./js/inverse.js"],"names":[],"mappings":";;;;;;;;AAAA,EAAC,YAAW;AACR,SAAM,KAAK,oBAAQ,CAAR,CAAX;AACA,SAAM,MAAM,oBAAQ,EAAR,CAAZ;AACA,yBAAQ,EAAR;AACA,yBAAQ,EAAR;AACA,SAAI,SAAS,GAAG,OAAH,CAAW,YAAY,SAAS,MAArB,GAA8B,GAA9B,GAAoC,SAAS,IAAxD,CAAb;;AAEA,yBAAQ,EAAR;;AAEA,SAAI,MAAM,IAAI,GAAJ,CAAQ;AACd,aAAI,MADU;AAEd,eAAM;AACF,sBAAS,EADP;AAEF,yBAAY;AACR,uBAAM,CADE;AAER,uBAAM;AAFE;AAFV,UAFQ;AASd,kBAAS,EATK;AAWd,gBAAO,iBAAW;AACd,oBAAO,EAAP,CAAU,SAAV,EAAqB,YAAW;AAC5B,wBAAO,IAAP,CAAY,YAAZ;AACA,yBAAQ,GAAR,CAAY,WAAZ;AACH,cAHD;AAIA,oBAAO,IAAP,CAAY,UAAZ;AACH;AAjBa,MAAR,CAAV;AAmBA,SAAI,MAAJ,CAAW,SAAX,EAAsB,UAAU,MAAV,EAAkB,MAAlB,EAA0B;AAC5C,6BAAQ,EAAR,EAAyB,MAAzB,EAAiC,GAAjC;AACP,MAFG;AAGA,YAAO,EAAP,CAAU,UAAV,EAAsB,UAAS,OAAT,EAAkB;AACpC,aAAI,OAAJ,GAAc,OAAd;AACA,iBAAQ,GAAR,CAAY,OAAZ;AACH,MAHD;;AAKA,YAAO,EAAP,CAAU,YAAV,EAAwB,YAAW;AAC/B,iBAAQ,GAAR,CAAY,cAAZ;AACH,MAFD;;AAIA,YAAO,EAAP,CAAU,eAAV,EAA2B,UAAS,IAAT,EAAe;AACtC,iBAAQ,GAAR,CAAY,IAAZ;AACH,MAFD;;AAIA,SAAI,eAAe,SAAf,YAAe,GAAW;AAC1B,gBAAO,SAAS,cAAT,CAAwB,YAAxB,EAAsC,KAA7C;AACH,MAFD;;AAIA,SAAI,UAAU,SAAV,OAAU,GAAW;AACrB,gBAAO;AACH,qBAAQ,SAAS,cAAT,CAAwB,MAAxB,EAAgC,OADrC;AAEH,qBAAQ,SAAS,cAAT,CAAwB,MAAxB,EAAgC,OAFrC;AAGH,qBAAQ,SAAS,cAAT,CAAwB,MAAxB,EAAgC,OAHrC;AAIH,qBAAQ,SAAS,cAAT,CAAwB,MAAxB,EAAgC;AAJrC,UAAP;AAMH,MAPD;;AAWA,OAAE,QAAF,EAAY,KAAZ,CAAkB,YAAW;AACzB,WAAE,UAAF,EAAc,KAAd,CAAoB,YAAW;AAC3B,oBAAO,IAAP,CAAY,UAAZ;AACH,UAFD;AAGA,WAAE,SAAF,EAAa,KAAb,CAAmB,YAAW;AAC1B,qBAAQ,GAAR,CAAY,WAAZ,EAAyB,cAAzB;AACA,oBAAO,IAAP,CAAY,gBAAZ,EAA8B;AAC1B,uBAAM,GADoB;AAE1B,uBAAM;AAFoB,cAA9B;AAIH,UAND;AAQH,MAZD;AAcH,EAzED,I;;;;;;;;;ACAA,KAAM,MAAM,oBAAQ,EAAR,CAAZ;;AAEA,KAAI,SAAJ,CAAc,KAAd,EAAqB;AACjB,YAAO,CAAC,KAAD,EAAQ,OAAR,EAAiB,KAAjB,EAAwB,KAAxB,EAA+B,MAA/B,EAAuC,IAAvC,CADU;AAEjB,WAAM,gBAAW;AACb,gBAAO,EAAP;AAGH,MANgB;AAOjB,eAAU;AAPO,EAArB,E;;;;;;;;;ACFA,KAAM,MAAM,oBAAQ,EAAR,CAAZ;;AAEA,KAAI,SAAJ,CAAc,WAAd,EAA2B;AACvB,YAAO,CAAC,KAAD,EAAQ,KAAR,CADgB;AAEvB,WAAM,gBAAW;AACb,gBAAO,EAAP;AAGH,MANsB;AAOvB,eAAU;AAPa,EAA3B,E;;;;;;;ACFA,0C;;;;;;;;;ACAA,KAAM,WAAW,oBAAQ,EAAR,CAAjB;AACA;AACA,KAAI,UAAU,oBAAQ,EAAR,CAAd;;AAEA,WAAU,OAAO,OAAP,GAAiB,UAAS,MAAT,EAAiB,GAAjB,EAAsB;AAC7C,SAAI,UAAU,IAAI,OAAlB;AACA,SAAI,aAAa,IAAI,UAArB;;AAEA,SAAI,cAAc,QAAQ,MAAR,CAAe,UAAC,GAAD;AAAA,gBAAS,IAAI,SAAJ,KAAkB,SAA3B;AAAA,MAAf,CAAlB;;AAEA;AACA;;AAEA;AACA,cAAS,IAAT,CAAc,IAAd,EAAoB,UAAS,CAAT,EAAY;AAC5B,gBAAO,IAAP,CAAY,gBAAZ,EAA8B;AAC1B,mBAAM,QAAQ,WAAW,IAAX,CAAR,CADoB;AAE1B,mBAAM,QAAQ,WAAW,IAAX,CAAR;AAFoB,UAA9B;AAIA;AACA,gBAAO,IAAP,CAAY,WAAZ,EAAyB;AACrB,kBAAK,IADgB;AAErB,oBAAO;AAFc,UAAzB;AAIA,gBAAO,IAAP,CAAY,WAAZ,EAAyB;AACrB,kBAAK,IADgB;AAErB,oBAAO;AAFc,UAAzB;AAIA,iBAAQ,GAAR,CAAY,WAAZ,EAAyB,WAAW,IAAX,CAAzB,EAA2C,WAAW,IAAX,CAA3C;AAGH,MAjBD,EAiBG,UAAS,CAAT,EAAY;AACX,gBAAO,IAAP,CAAY,gBAAZ,EAA8B;AAC1B,mBAAM,QAAQ,CAAR,CADoB;AAE1B,mBAAM,QAAQ,CAAR;AAFoB,UAA9B;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,MA9BD;;AAgCA;AACA,cAAS,IAAT,CAAc,GAAd,EAAmB,UAAS,CAAT,EAAY;AAC3B,WAAE,WAAW,IAAX,CAAF;AACA,WAAE,WAAW,IAAX,CAAF;AACA,aAAI,CAAC,WAAW,IAAX,KAAoB,WAAW,IAAX,CAArB,KAA0C,GAA9C,EAAmD;AAC/C,wBAAW,IAAX,IAAmB,GAAnB;AACA,wBAAW,IAAX,IAAmB,GAAnB;AACH,UAHD,MAGO,IAAI,CAAC,WAAW,IAAX,KAAoB,WAAW,IAAX,CAArB,KAA0C,CAA9C,EAAiD;AACpD,wBAAW,IAAX,IAAmB,CAAnB;AACA,wBAAW,IAAX,IAAmB,CAAnB;AACH;;AAED,iBAAQ,GAAR,CAAY,WAAW,IAAX,CAAZ,EAA8B,WAAW,IAAX,CAA9B;AACH,MAZD;AAaA;;AAEA,cAAS,IAAT,CAAc,GAAd,EAAmB,UAAS,CAAT,EAAY;AAC3B,WAAE,WAAW,IAAX,CAAF;AACA,WAAE,WAAW,IAAX,CAAF;AACA,aAAI,CAAC,WAAW,IAAX,KAAoB,WAAW,IAAX,CAArB,KAA0C,GAA9C,EAAmD;AAC/C,wBAAW,IAAX,IAAmB,GAAnB;AACA,wBAAW,IAAX,IAAmB,GAAnB;AACH,UAHD,MAGO,IAAI,CAAC,WAAW,IAAX,KAAoB,WAAW,IAAX,CAArB,KAA0C,CAA9C,EAAiD;AACpD,wBAAW,IAAX,IAAmB,CAAnB;AACA,wBAAW,IAAX,IAAmB,CAAnB;AACH;;AAED,iBAAQ,GAAR,CAAY,WAAW,IAAX,CAAZ,EAA8B,WAAW,IAAX,CAA9B;AACH,MAZD;AAaH,EAvED,C;;;;;;;;;ACJA;AACA;AACA,WAAU,OAAO,OAAP,GAAiB,UAAS,KAAT,EAA6B;AAAA,SAAb,KAAa,yDAAL,GAAK;;AACpD,YAAO,QAAQ,KAAf;AACH,EAFD,C","file":"app.js","sourcesContent":["(function() {\n    const io = require('socket.io-client');\n    const Vue = require('vue');\n    require('./pin');\n    require('./dutycycle');\n    let socket = io.connect('http://' + document.domain + ':' + location.port);\n\n    require(\"../styles/main.css\");\n\n    let SCS = new Vue({\n        el: '#app',\n        data: {\n            pinlist: {},\n            dutycycles: {\n                '23': 0,\n                '18': 0\n            },\n        },\n        methods: {\n        },\n        ready: function() {\n            socket.on('connect', function() {\n                socket.emit('connection');\n                console.log(\"Connected\");\n            });\n            socket.emit('pin:list');\n        },\n    });\n    SCS.$watch('pinlist', function (newVal, oldVal) {\n        require('./keysControl')(socket, SCS);\n});\n    socket.on('pin:list', function(pinlist) {\n        SCS.pinlist = pinlist;\n        console.log(pinlist);\n    });\n\n    socket.on('disconnect', function() {\n        console.log('Disconnected');\n    });\n\n    socket.on('pin:dutycycle', function(data) {\n        console.log(data);\n    });\n\n    let getDutycycle = function() {\n        return document.getElementById('dutycycle1').value;\n    };\n\n    let getDirs = function() {\n        return {\n            'dir1': document.getElementById('dir1').checked,\n            'dir2': document.getElementById('dir2').checked,\n            'dir3': document.getElementById('dir3').checked,\n            'dir4': document.getElementById('dir4').checked,\n        };\n    };\n\n\n\n    $(document).ready(function() {\n        $('#getPins').click(function() {\n            socket.emit('pin:list');\n        });\n        $('#runPWM').click(function() {\n            console.log(\"Start PWM\", getDutycycle());\n            socket.emit('pin:dutycycles', {\n                '18': 150,\n                '23': 100\n            });\n        });\n\n    });\n\n})();\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/app.js\n **/","const Vue = require('vue');\n\nVue.component('pin', {\n    props: ['pin', 'index', 'num', 'val', 'mode', 'dc'],\n    data: function() {\n        return {\n\n        };\n    },\n    template: '<div>{{num}} val:{{val}} mode:{{mode}} dc:{{dc}}</div>'\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/pin.js\n **/","const Vue = require('vue');\n\nVue.component('dutycycle', {\n    props: ['pin', 'val'],\n    data: function() {\n        return {\n\n        };\n    },\n    template: '<div>{{pin}} val:{{val}}</div>'\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/dutycycle.js\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./styles/main.css\n ** module id = 53\n ** module chunks = 0\n **/","const keyboard = require('keyboardjs');\n// var stopwatch = require('simple-stopwatch');\nlet inverse = require('./inverse');\n\nexports = module.exports = function(socket, SCS) {\n    let pinlist = SCS.pinlist;\n    let dutycycles = SCS.dutycycles;\n\n    let pinsWithPWM = pinlist.filter((pin) => pin.dutycycle !== undefined);\n\n    // let pin0 = pinsWithPWM[0].num;\n    // let pin1 = pinsWithPWM[1].num;\n\n    // FORWARD\n    keyboard.bind('up', function(e) {\n        socket.emit('pin:dutycycles', {\n            '18': inverse(dutycycles['18']),\n            '23': inverse(dutycycles['23'])\n        });\n        // Number of pins must be strings\n        socket.emit('pin:write', {\n            num: '24',\n            value: 1\n        });\n        socket.emit('pin:write', {\n            num: '27',\n            value: 1\n        });\n        console.log('Run with:', dutycycles['18'], dutycycles['23']);\n\n\n    }, function(e) {\n        socket.emit('pin:dutycycles', {\n            '18': inverse(0),\n            '23': inverse(0)\n        });\n        // socket.emit('pin:write', {\n        //     num: '24',\n        //     value: 0\n        // });\n        // socket.emit('pin:write', {\n        //     num: '27',\n        //     value: 0\n        // });\n    });\n\n    // INCREMENT DUTYCYCLE\n    keyboard.bind('a', function(e) {\n        ++dutycycles['18'];\n        ++dutycycles['23'];\n        if ((dutycycles['18'] || dutycycles['18']) >= 255) {\n            dutycycles['18'] = 255;\n            dutycycles['23'] = 255;\n        } else if ((dutycycles['18'] || dutycycles['18']) <= 0) {\n            dutycycles['18'] = 0;\n            dutycycles['23'] = 0;\n        }\n\n        console.log(dutycycles['18'], dutycycles['23']);\n    });\n    // DECREMENT DUTYCYCLE\n\n    keyboard.bind('z', function(e) {\n        --dutycycles['18'];\n        --dutycycles['23'];\n        if ((dutycycles['18'] || dutycycles['18']) >= 255) {\n            dutycycles['18'] = 255;\n            dutycycles['23'] = 255;\n        } else if ((dutycycles['18'] || dutycycles['18']) <= 0) {\n            dutycycles['18'] = 0;\n            dutycycles['23'] = 0;\n        }\n\n        console.log(dutycycles['18'], dutycycles['23']);\n    });\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/keysControl.js\n **/","// `value` is a current dutycycle value\n// `range` is PWM range, look at http://abyz.co.uk/rpi/pigpio/python.html#set_PWM_range\nexports = module.exports = function(value, range = 255) {\n    return range - value;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/inverse.js\n **/"],"sourceRoot":""}